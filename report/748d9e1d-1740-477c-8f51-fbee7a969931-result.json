{"name": "test_mp_login[13812345678-246811-13812345678]", "status": "broken", "statusDetails": {"message": "AttributeError: module 'allure' has no attribute 'attach_type'", "trace": "self = <scripts.test01_mp_login.TestMpLogin object at 0x00000230EEEBADD8>, username = '13812345678', code = '246811'\nexpect = '13812345678'\n\n    @pytest.mark.parametrize(\"username, code, expect\", read_yaml(\"mp_login.yaml\"))\n    def test_mp_login(self, username, code, expect):\n        # 调用登录业务方法\n        self.mp.page_mp_login(username, code)\n        # 断言\n        try:\n>           assert expect == self.mp.page_get_nickname\nE           AssertionError: assert '13812345678' == <bound method PageMpLogin.page_get_nickname of <page.page_mp_login.PageMpLogin object at 0x00000230EF219978>>\nE            +  where <bound method PageMpLogin.page_get_nickname of <page.page_mp_login.PageMpLogin object at 0x00000230EF219978>> = <page.page_mp_login.PageMpLogin object at 0x00000230EF219978>.page_get_nickname\nE            +    where <page.page_mp_login.PageMpLogin object at 0x00000230EF219978> = <scripts.test01_mp_login.TestMpLogin object at 0x00000230EEEBADD8>.mp\n\nscripts\\test01_mp_login.py:32: AssertionError\n\nDuring handling of the above exception, another exception occurred:\n\nself = <scripts.test01_mp_login.TestMpLogin object at 0x00000230EEEBADD8>, username = '13812345678', code = '246811'\nexpect = '13812345678'\n\n    @pytest.mark.parametrize(\"username, code, expect\", read_yaml(\"mp_login.yaml\"))\n    def test_mp_login(self, username, code, expect):\n        # 调用登录业务方法\n        self.mp.page_mp_login(username, code)\n        # 断言\n        try:\n            assert expect == self.mp.page_get_nickname\n        except Exception as e:\n            log.error(\"断言出错，错误信息：{}\".format(e))\n            # 输出错误信息\n            print(\"错误信息：\", e)\n            # 截图\n>           self.mp.base_get_img()\n\nscripts\\test01_mp_login.py:38: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nbase\\base.py:73: in base_get_img\n    self.__base_write_img()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <page.page_mp_login.PageMpLogin object at 0x00000230EF219978>\n\n    def __base_write_img(self):\n        # 1.获取图片文件流\n        with open(\"./image/err.png\", \"rb\") as f:\n            # 2.调用allure.attach附加方法\n>           allure.attach(\"错误原因：\", f.read(), allure.attach_type.PNG)\nE           AttributeError: module 'allure' has no attribute 'attach_type'\n\nbase\\base.py:80: AttributeError"}, "attachments": [{"name": "log", "source": "dd3d3180-1ce9-4c85-a4ee-f67c14bdcf49-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "username", "value": "'13812345678'"}, {"name": "code", "value": "'246811'"}, {"name": "expect", "value": "'13812345678'"}], "start": 1609999796929, "stop": 1609999798713, "uuid": "226b379b-67ed-4088-a33e-66163bfdfc9b", "historyId": "c923f6e70d4b2f3d7599c6390022a18c", "testCaseId": "b1928a7174b0d14afd7479ec3844ea33", "fullName": "scripts.test01_mp_login.TestMpLogin#test_mp_login", "labels": [{"name": "parentSuite", "value": "scripts"}, {"name": "suite", "value": "test01_mp_login"}, {"name": "subSuite", "value": "TestMpLogin"}, {"name": "host", "value": "zhou"}, {"name": "thread", "value": "11944-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "scripts.test01_mp_login"}]}